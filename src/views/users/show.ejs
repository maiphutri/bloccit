<!DOCTYPE html>
<html>
<head>
  <% include ../static/partials/head.ejs %>
</head>
<body>
  <% include ../static/partials/navbar.ejs %>

  <main class='container'>

    <% include ../static/partials/messages.ejs %>

    <h1><%= `${user.email}'s profile` %></h1>

    <hr>

    <h2> Lastest Posts </h2>

    <ul class="list-unstyled">
      <% if (posts) { %>
        <% posts.forEach(post => { %>
          <li>
            <a href="/topics/<%= post.topicId %>/posts/<%= post.id %>">
              <%= post.title %>
            </a>
          </li>
        <% }) %>
      <% } %>
    </ul>
    
    <hr>

    <h2> Lastest Comments</h2>

    <ul class="list-unstyled">
      <% if (comments) { %>
        <% comments.forEach(comment => { %>
            <li>
              <a href="/topics/<%= comment.Post.topicId %>/posts/<%= comment.Post.id %>">
                <%= comment.Post.title %>
              </a>
              <p>Comment: <%= comment.body %></p>
            </li>
            <hr>
        <% }) %>
      <% } %>
    </ul>

    <hr>

    <h2> Lastest Favorites Posts</h2>

    <ul class="list-unstyled">
      <% if (favorites) { %>
        <% favorites.forEach(favorite => { %>
            <li>
              <a href="/topics/<%= favorite.Post.topicId %>/posts/<%= favorite.Post.id %>">
                <%= favorite.Post.title %>
              </a>
            </li>
            <hr>
        <% }) %>
      <% } %>
    </ul>
  </main>

  <% include ../static/partials/baseScripts.ejs %>
</body>
</html>